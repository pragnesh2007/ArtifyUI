{"ast":null,"code":"import _objectSpread from\"E:/College Projects/ecommerce/ecommerce/store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"E:/College Projects/ecommerce/ecommerce/store/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"E:/College Projects/ecommerce/ecommerce/store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState}from\"react\";import{productsArray,getProductData}from\"./productsStore\";import{jsx as _jsx}from\"react/jsx-runtime\";export var CartContext=/*#__PURE__*/createContext({items:[],getProductQuantity:function getProductQuantity(){},addOneToCart:function addOneToCart(){},removeOneFromCart:function removeOneFromCart(){},deleteFromCart:function deleteFromCart(){},getTotalCost:function getTotalCost(){}});export function CartProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartProducts=_useState2[0],setCartProducts=_useState2[1];// [ { id: 1 , quantity: 3 }, { id: 2, quantity: 1 } ]\nfunction getProductQuantity(id){var _cartProducts$find;var quantity=(_cartProducts$find=cartProducts.find(function(product){return product.id===id;}))===null||_cartProducts$find===void 0?void 0:_cartProducts$find.quantity;if(quantity===undefined){return 0;}return quantity;}function addOneToCart(id){var quantity=getProductQuantity(id);if(quantity===0){// product is not in cart\nsetCartProducts([].concat(_toConsumableArray(cartProducts),[{id:id,quantity:1}]));}else{// product is in cart\n// [ { id: 1 , quantity: 3 }, { id: 2, quantity: 1 } ]    add to product id of 2\nsetCartProducts(cartProducts.map(function(product){return product.id===id// if condition\n?_objectSpread(_objectSpread({},product),{},{quantity:product.quantity+1})// if statement is true\n:product;}// if statement is false\n));}}function removeOneFromCart(id){var quantity=getProductQuantity(id);if(quantity==1){deleteFromCart(id);}else{setCartProducts(cartProducts.map(function(product){return product.id===id// if condition\n?_objectSpread(_objectSpread({},product),{},{quantity:product.quantity-1})// if statement is true\n:product;}// if statement is false\n));}}function deleteFromCart(id){// [] if an object meets a condition, add the object to array\n// [product1, product2, product3]\n// [product1, product3]\nsetCartProducts(function(cartProducts){return cartProducts.filter(function(currentProduct){return currentProduct.id!=id;});});}function getTotalCost(){var totalCost=0;cartProducts.map(function(cartItem){var productData=getProductData(cartItem.id);totalCost+=productData.price*cartItem.quantity;});return totalCost;}var contextValue={items:cartProducts,getProductQuantity:getProductQuantity,addOneToCart:addOneToCart,removeOneFromCart:removeOneFromCart,deleteFromCart:deleteFromCart,getTotalCost:getTotalCost};return/*#__PURE__*/_jsx(CartContext.Provider,{value:contextValue,children:children});}export default CartProvider;","map":{"version":3,"names":["createContext","useState","productsArray","getProductData","jsx","_jsx","CartContext","items","getProductQuantity","addOneToCart","removeOneFromCart","deleteFromCart","getTotalCost","CartProvider","_ref","children","_useState","_useState2","_slicedToArray","cartProducts","setCartProducts","id","_cartProducts$find","quantity","find","product","undefined","concat","_toConsumableArray","map","_objectSpread","filter","currentProduct","totalCost","cartItem","productData","price","contextValue","Provider","value"],"sources":["E:/College Projects/ecommerce/ecommerce/store/src/CartContext.js"],"sourcesContent":["import { createContext, useState } from \"react\";\nimport { productsArray, getProductData } from \"./productsStore\";\n\n\nexport const CartContext = createContext({\n    items: [],\n    getProductQuantity: () => {},\n    addOneToCart: () => {},\n    removeOneFromCart: () => {},\n    deleteFromCart: () => {},\n    getTotalCost: () => {}\n});\n\nexport function CartProvider({children}) {\n    const [cartProducts, setCartProducts] = useState([]);\n    \n    // [ { id: 1 , quantity: 3 }, { id: 2, quantity: 1 } ]\n\n    function getProductQuantity(id) {\n        const quantity = cartProducts.find(product => product.id === id)?.quantity;\n        \n        if (quantity === undefined) {\n            return 0;\n        }\n        return quantity;\n    }\n    function addOneToCart(id) {\n        const quantity = getProductQuantity(id);\n\n        if (quantity === 0) { // product is not in cart\n            setCartProducts(\n                [\n                    ...cartProducts,\n                    {\n                        id: id,\n                        quantity: 1\n                    }\n                ]\n            )\n        } else { // product is in cart\n            // [ { id: 1 , quantity: 3 }, { id: 2, quantity: 1 } ]    add to product id of 2\n            setCartProducts(\n                cartProducts.map(\n                    product =>\n                    product.id === id                                // if condition\n                    ? { ...product, quantity: product.quantity + 1 } // if statement is true\n                    : product                                        // if statement is false\n                )\n            )\n        }\n    }\n    function removeOneFromCart(id) {\n        const quantity = getProductQuantity(id);\n\n        if(quantity == 1) {\n            deleteFromCart(id);\n        } else {\n            setCartProducts(\n                cartProducts.map(\n                    product =>\n                    product.id === id                                // if condition\n                    ? { ...product, quantity: product.quantity - 1 } // if statement is true\n                    : product                                        // if statement is false\n                )\n            )\n        }\n    }\n    function deleteFromCart(id) {\n        // [] if an object meets a condition, add the object to array\n        // [product1, product2, product3]\n        // [product1, product3]\n        setCartProducts(\n            cartProducts =>\n            cartProducts.filter(currentProduct => {\n                return currentProduct.id != id;\n            })  \n        )\n    }\n    function getTotalCost() {\n        let totalCost = 0;\n        cartProducts.map((cartItem) => {\n            const productData = getProductData(cartItem.id);\n            totalCost += (productData.price * cartItem.quantity);\n        });\n        return totalCost;\n    }\n        \n        const contextValue = {\n            items: cartProducts,\n            getProductQuantity,\n            addOneToCart,\n            removeOneFromCart,\n            deleteFromCart,\n            getTotalCost\n        }\n        return (\n            <CartContext.Provider value={contextValue}>\n                {children}\n            </CartContext.Provider>\n        ) \n    }\n\nexport default CartProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}