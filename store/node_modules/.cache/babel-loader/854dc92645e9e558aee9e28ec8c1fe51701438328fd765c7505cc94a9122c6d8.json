{"ast":null,"code":"import _regeneratorRuntime from\"E:/College Projects/ecommerce/ecommerce/store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/College Projects/ecommerce/ecommerce/store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/College Projects/ecommerce/ecommerce/store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Container,Navbar,Modal}from'react-bootstrap';import{useState,useContext}from'react';import{CartContext}from\"../CartContext\";import CartProduct from'./CartProduct';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NavbarComponent(){var cart=useContext(CartContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var checkout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://ecommerce-backend-api.azurewebsites.net/checkout',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({items:cart.items})}).then(function(response){return response.json();}).then(function(response){if(response.url){window.location.assign(response.url);// Forwarding user to Stripe\n}});case 2:case\"end\":return _context.stop();}},_callee);}));return function checkout(){return _ref.apply(this,arguments);};}();var productsCount=cart.items.reduce(function(sum,product){return sum+product.quantity;},0);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Navbar,{expand:\"sm\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",style:{color:'blue',fontFamily:'Playfair Display',fontSize:'34px'},children:\"ArtifyAI\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{}),/*#__PURE__*/_jsx(Navbar.Collapse,{className:\"justify-content-end\",children:/*#__PURE__*/_jsxs(Button,{onClick:handleShow,children:[\"Cart (\",productsCount,\" Items)\"]})})]}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Shopping Cart\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:productsCount>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Items in your cart:\"}),cart.items.map(function(currentProduct,idx){return/*#__PURE__*/_jsx(CartProduct,{id:currentProduct.id,quantity:currentProduct.quantity},idx);}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Total: \",cart.getTotalCost().toFixed(2)]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:checkout,children:\"Purchase items!\"})]}):/*#__PURE__*/_jsx(\"h1\",{children:\"There are no items in your cart!\"})})]})]});}export default NavbarComponent;","map":{"version":3,"names":["Button","Container","Navbar","Modal","useState","useContext","CartContext","CartProduct","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavbarComponent","cart","_useState","_useState2","_slicedToArray","show","setShow","handleClose","handleShow","checkout","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","items","then","response","json","url","window","location","assign","stop","apply","arguments","productsCount","reduce","sum","product","quantity","children","expand","Brand","href","style","color","fontFamily","fontSize","Toggle","Collapse","className","onClick","onHide","Header","closeButton","Title","Body","map","currentProduct","idx","id","getTotalCost","toFixed","variant"],"sources":["E:/College Projects/ecommerce/ecommerce/store/src/components/Navbar.js"],"sourcesContent":["import {Button, Container, Navbar, Modal} from 'react-bootstrap';\nimport { useState, useContext } from 'react';\nimport { CartContext } from \"../CartContext\";\nimport CartProduct from './CartProduct';\n\nfunction NavbarComponent() {\n    const cart = useContext(CartContext);\n\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    const checkout = async () => {\n        await fetch('https://ecommerce-backend-api.azurewebsites.net/checkout', {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({items: cart.items})\n        }).then((response) => {\n            return response.json();\n        }).then((response) => {\n            if(response.url) {\n                window.location.assign(response.url); // Forwarding user to Stripe\n            }\n        });\n    }\n\n    const productsCount = cart.items.reduce((sum, product) => sum + product.quantity, 0);\n\n    return (\n        <>\n            <Navbar expand=\"sm\">\n            <Navbar.Brand href=\"/\" style={{ color: 'blue', fontFamily: 'Playfair Display',  fontSize: '34px' }}>ArtifyAI</Navbar.Brand>\n\n                <Navbar.Toggle />\n                <Navbar.Collapse className=\"justify-content-end\">\n                    <Button onClick={handleShow}>Cart ({productsCount} Items)</Button>\n                </Navbar.Collapse>\n            </Navbar>\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Shopping Cart</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {productsCount > 0 ?\n                        <>\n                            <p>Items in your cart:</p>\n                            {cart.items.map( (currentProduct, idx) => (\n                                <CartProduct key={idx} id={currentProduct.id} quantity={currentProduct.quantity}></CartProduct>\n                            ))}\n\n                            <h1>Total: {cart.getTotalCost().toFixed(2)}</h1>\n\n                            <Button variant=\"success\" onClick={checkout}>\n                                Purchase items!\n                            </Button>\n                        </>\n                    :\n                        <h1>There are no items in your cart!</h1>\n                    }\n                </Modal.Body>\n            </Modal>\n        </>\n    )\n}\n\nexport default NavbarComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}